scoreboard players set @e[type=item] DiggyPigs_Stone 0
scoreboard players set @e[type=item] DiggyPigs_Stone 1 {item:{count:1,id:"minecraft:cobblestone"}}
scoreboard players set @e[type=item] DiggyPigs_Carrot 0
scoreboard players set @e[type=item] DiggyPigs_Carrot 1 {item:{count:1,id:"minecraft:carrot"}}
scoreboard players set @e[type=item] DiggyPigs_Pickaxe 0
scoreboard players set @e[type=item] DiggyPigs_Pickaxe 1 {item:{count:1,id:"minecraft:stone_pickaxe"}}
scoreboard players set @e[tag=DiggyPigs_DiggyPig_1] DiggyPigs_PigType 1
scoreboard players set @e[tag=DiggyPigs_DiggyPig_2] DiggyPigs_PigType 2
scoreboard players set @e[tag=DiggyPigs_DiggyPig_3] DiggyPigs_PigType 3
execute @e[score_DiggyPigs_Pickaxe_min=1] ~ ~ ~ entitydata @e[r=1,type=villager] {CustomName:"DiggyPig Trader",PersistenceRequired:1,Offers:{Recipes:[{buy:{id:porkchop,Count:5},buyB:{id:dye,Damage:15,Count:5},sell:{id:spawn_egg,Count:1,tag:{EntityTag:{id:pig}}},maxUses:9999999},{buy:{id:spawn_egg,Count:1,tag:{Display:{Name:"Ridable DiggyPig"}},EntityTag:{id:pig,tags:["DiggyPigs_DiggyPig_1"]}}},buyB:{id:iron_pickaxe,Count:1},sell:{id:spawn_egg,Count:1,tag:{EntityTag:{id:pig}}},maxUses:9999999},{buy:{id:spawn_egg,Count:1,tag:{EntityTag:{id:pig}}},buyB:{id:wooden_pickaxe,Count:1},sell:{id:spawn_egg,Count:1,tag:{Display:{Name:"Down DiggyPig"}EntityTag:{id:pig,tags:["DiggyPigs_DiggyPig_2"]}}},maxUses:9999999},{buy:{id:spawn_egg,Count:1,tag:{EntityTag:{id:pig}}},buyB:{id:wooden_pickaxe,Count:1},sell:{id:spawn_egg,Count:1,tag:{Display:{Name:"Down DiggyPig"},EntityTag:{id:pig,tags:["DiggyPigs_DiggyPig_3"]}}},maxUses:9999999},{buy:{id:dye,Damage:15,Count:5},sell:{id:carrot,Count:1},maxUses:9999999},{buy:{id:dye,Damage:15,Count:5},sell:{id:potato,Count:1},maxUses:9999999},{buy:{id:dye,Damage:15,Count:5},sell:{id:beetroot,Count:1},maxUses:9999999},{buy:{id:dye,Damage:15,Count:5},sell:{id:melon,Count:1},maxUses:9999999},{buy:{id:dye,Damage:15,Count:5},sell:{id:pumpkin,Count:1},maxUses:9999999},{buy:{id:leather,Count:5},sell:{id:saddle,Count:1},maxUses:9999999},{buy:{id:sign,Count:1},buyB:{id:iron_ingot,Count:1},sell:{id:name_tag,Count:1},maxUses:9999999},{buy:{id:vine,Count:1},buyB:{id:stick,Count:1},sell:{id:slime_ball,Count:3},maxUses:9999999},{buy:{id:dye,Damage:15,Count:2},sell:{id:vine,Count:1},maxUses:9999999},{buy:{id:beef,Count:5},buyB:{id:dye,Damage:15,Count:5},sell:{id:spawn_egg,Count:1,tag:{EntityTag:{id:cow}}},maxUses:9999999},{buy:{id:mutton,Count:5},buyB:{id:dye,Damage:15,Count:5},sell:{id:spawn_egg,Count:1,tag:{EntityTag:{id:sheep}}},maxUses:9999999},{buy:{id:chicken,Count:5},buyB:{id:dye,Damage:15,Count:5},sell:{id:spawn_egg,Count:1,tag:{EntityTag:{id:chicken}}},maxUses:9999999},{buy:{id:writable_book,Count:1},sell:{id:written_book,Count:1,tag:{pages:["[\"\",{\"text\":\"I see you've managed to install DiggyPigs and get the trader. Good.\"}]","[\"\",{\"text\":\"There are 3 different types of DiggyPigs, each useful for different things... \\n \\n\"},{\"text\":\"• Up DiggyPig: useful for destroying tall trees and finding the surface. \\n\"},{\"text\":\"• Down DiggyPig: Usefull for getting down to bedrock. \\n\"}]","[\"\",{\"text\":\"• Rideable DiggyPig: Good for branch mining.\"},{\"text\":\"\\n  \\n Once you've bought your DiggyPig spawn it and... \\n\"},{\"text\":\"• If it's an Up DiggyPig it will dig upwards. \\n\"},{\"text\":\"• If it's a Down DiggyPig it will dig downwards. \\n\"}]","[\"\",{\"text\":\"• If it's a Ridable DiggyPig put a saddle on it, grab a carrot on a stick, drop some carrots next to it one by one, and it will dig in front of you. \\n\"},{\"text\":\"Note: \\n\",\"bold\":true},{\"text\":\"You should also give it some cobblestone as it will place it in front of it to build a bridge. \\n\",\"bold\":false}]","[\"\",{\"text\":\"There is also the DiggyPig Hub, all of the items are teleported there. \\n\"},{\"text\":\"Have fun!\",\"color\":\"gold\",\"bold\":true}]"],title:Book,author:DiggyPigCreator}},maxUses:9999999},{buy:{id:spawn_egg,Count:1,tag:{EntityTag:{id:pig}}},buyB:{id:chest,Count:1},sell:{id:spawn_egg,Count:1,tag:{Display:{Name:"DiggyPig Hub"},EntityTag:{id:pig,tags:["DiggyPigs_DiggyPig_4"]}}},maxUses:9999999}]},Profession:3,Career:2,CareerLevel:2}
execute @e[score_DiggyPigs_Carrot_min=1] ~ ~ ~ scoreboard players add @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,r=1,c=1] DiggyPigs_PigEnergy 1
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1] ~ ~ ~ kill @e[score_DiggyPigs_Carrot_min=1,r=1]
execute @e[score_DiggyPigs_Stone_min=1] ~ ~ ~ scoreboard players add @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,r=1,c=1] DiggyPigs_PigStone 1
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1] ~ ~ ~ kill @e[score_DiggyPigs_Stone_min=1,r=1]
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1] ~ ~ ~ fill ~-1 ~ ~-1 ~1 ~3 ~1 minecraft:air 0 destroy
effect @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigEnergy=0] minecraft:slowness 1 255
execute @e[score_DiggyPigs_PigType_min=2,score_DiggyPigs_PigType=2] ~ ~ ~ tp @se ~ ~-1 ~
execute @e[score_DiggyPigs_PigType_min=3,score_DiggyPigs_PigType=3] ~ ~ ~ tp @se ~ ~1 ~
execute @e[score_DiggyPigs_PigType_min=2,score_DiggyPigs_PigType=3] ~ ~ ~ detect ~ ~ ~ minecraft:bedrock -1 scoreboard players set @se DiggyPigs_PigBroken 1
scoreboard players set @e[score_DiggyPigs_Life_min=6000] DiggyPigs_PigBroken 1
scoreboard players set @e[score_DiggyPigs_PigBroken_min=1,score_DiggyPigs_PigType_min=1] DiggyPigs_PigType 0
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1] ~ ~ ~ title @a[r=5] actionbar ["",{"text":"DiggyPig Stats: ","color":"white"},{"text":"Pig Energy: ","color":"black","italic":true},{"score":{"name":"@se","objective":"DiggyPigs_PigStone"},"color":"gold","bold":true,"italic":false},{"text":" Pig Cobblestone: ","color":"black","italic":true,"bold":false},{"score":{"name":"@se","objective":"DiggyPigs_PigStone"},"color":"gold","bold":true,"italic":false}]
execute @e[score_DiggyPigs_PigType_min=2,score_DiggyPigs_PigType=3] ~ ~ ~ detect ~ ~ ~ minecraft:air -1 scoreboard players set @se DiggyPigs_PigBroken 1
execute @e[score_DiggyPigs_PigType_min=2,score_DiggyPigs_PigType=3] ~ ~ ~ setblock ~ ~ ~ minecraft:air 0 destroy
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,score_DiggyPigs_PigStone_min=1] ~ ~ ~ detect ~-1 ~-1 ~ minecraft:air -1 scoreboard players remove @se DiggyPigs_PigStone 1
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,score_DiggyPigs_PigStone_min=1] ~ ~ ~ detect ~-1 ~-1 ~ minecraft:air -1 setblock ~-1 ~-1 ~ minecraft:cobblestone
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,score_DiggyPigs_PigStone_min=1] ~ ~ ~ detect ~1 ~-1 ~ minecraft:air -1 scoreboard players remove @se DiggyPigs_PigStone 1
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,score_DiggyPigs_PigStone_min=1] ~ ~ ~ detect ~1 ~-1 ~ minecraft:air -1 setblock ~1 ~-1 ~ minecraft:cobblestone
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,score_DiggyPigs_PigStone_min=1] ~ ~ ~ detect ~ ~-1 ~-1 minecraft:air -1 scoreboard players remove @se DiggyPigs_PigStone 1
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,score_DiggyPigs_PigStone_min=1] ~ ~ ~ detect ~ ~-1 ~-1 minecraft:air -1 setblock ~ ~-1 ~-1 minecraft:cobblestone
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,score_DiggyPigs_PigStone_min=1] ~ ~ ~ detect ~ ~-1 ~1 minecraft:air -1 scoreboard players remove @se DiggyPigs_PigStone 1
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=1,score_DiggyPigs_PigStone_min=1] ~ ~ ~ detect ~ ~-1 ~1 minecraft:air -1 setblock ~ ~-1 ~1 minecraft:cobblestone
execute @e[score_DiggyPigs_PigType_min=1,score_DiggyPigs_PigType=3] ~ ~ ~ tp @e[type=item,r=10] @e[score_DiggyPigs_PigType_min=4,score_DiggyPigs_PigType=4]
entitydata @e[score_DiggyPigs_PigBroken_min=1] {Invulnerable:1,Invisible:1,NoAI:1,Silent:1}
execute @e[score_DiggyPigs_PigStone_min=1,score_DiggyPigs_PigBroken_min=1] ~ ~ ~ summon minecraft:item ~ ~ ~ {Item:{id:"minecraft:cobblestone"}}
scoreboard players remove @e[score_DiggyPigs_PigStone_min=1,score_DiggyPigs_PigBroken_min=1] DiggyPigs_PigStone 1
execute @e[score_DiggyPigs_PigEnergy_min=1,score_DiggyPigs_PigBroken_min=1] ~ ~ ~ summon minecraft:item ~ ~ ~ {Item:{id:"minecraft:carrot"}}
scoreboard players remove @e[score_DiggyPigs_PigEnergy_min=1,score_DiggyPigs_PigBroken_min=1] DiggyPigs_PigEnergy 1
execute @e[score_DiggyPigs_PigEnergy=0,score_DiggyPigs_PigStone=0,score_DiggyPigs_PigBroken_min=1] ~ ~ ~ summon Item ~ ~ ~ {Item:{id:"minecraft:spawn_egg",tag:{EntityTag:{id:pig}}}}
kill @e[score_DiggyPigs_PigEnergy=0,score_DiggyPigs_PigStone=0,score_DiggyPigs_PigBroken_min=1]
scoreboard players remove @e[score_DiggyPigs_PigEnergy_min=1,score_DiggyPigs_PigEat_min=400] DiggyPig_PigEnergy 1
scoreboard players add @e[score_DiggyPigs_PigEnergy_min=1] DiggyPigs_PigEat 1
scoreboard players set @e[score_DiggyPigs_PigEat_min=401] DiggyPigs_PigEat 0